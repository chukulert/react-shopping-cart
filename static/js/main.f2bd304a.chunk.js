(this["webpackJsonpreact-shopping-cart"]=this["webpackJsonpreact-shopping-cart"]||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports={modalBackdrop:"CartModal_modalBackdrop__2IQtb",modal:"CartModal_modal__2WeMr","slide-down":"CartModal_slide-down__2JMLT",modalContent:"CartModal_modalContent__1kUBB",modalBtn:"CartModal_modalBtn__jK4cp",closeModalBtn:"CartModal_closeModalBtn__3mFDt",emptyCartBtn:"CartModal_emptyCartBtn__19NkP"}},function(t,e,n){t.exports={header:"NavigationBar_header__2MVU-",logo:"NavigationBar_logo__1TUjH",nav:"NavigationBar_nav__2zmAR",active:"NavigationBar_active__2FQJ1"}},function(t,e,n){t.exports={item:"CartItem_item__3YpM8",lastItem:"CartItem_lastItem__3eXGG",itemContent:"CartItem_itemContent__3u1V9",itemContentAction:"CartItem_itemContentAction__32m4H",buttons:"CartItem_buttons__2SqZu"}},,,,,function(t,e,n){t.exports={form:"ProductItem_form__2zdIP",btn:"ProductItem_btn__2X0Zr",input:"ProductItem_input__2KySO"}},,,function(t,e,n){t.exports={container:"TextContainer_container__2cPcQ",textContainer:"TextContainer_textContainer__1Nk8n"}},function(t,e,n){t.exports={banner:"Banner_banner__1I87u",container:"Banner_container__3kHMB"}},,,function(t,e,n){t.exports={productContainer:"Products_productContainer__1MdrV",productGrid:"Products_productGrid__2M_vm"}},function(t,e,n){t.exports={button:"CartButton_button__1NFrC",badge:"CartButton_badge__2RGoB"}},,,,,,,function(t,e,n){t.exports={card:"Card_card__1fEYP"}},function(t,e,n){t.exports={spinner:"LoadingSpinner_spinner__AacvN"}},,,,,function(t,e,n){},,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),c=n(28),r=n.n(c),s=n(7),o=(n(38),n(8)),u=n(2),l=n(20),d=n.n(l),m=n(0),j=function(){return Object(m.jsx)("div",{className:d.a.container,children:Object(m.jsx)("div",{className:d.a.textContainer,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quam viverra orci sagittis eu volutpat odio facilisis mauris. Purus sit amet volutpat consequat mauris nunc. Varius sit amet mattis vulputate enim nulla aliquet. Sodales ut etiam sit amet. Fusce id velit ut tortor pretium viverra. Vitae congue eu consequat ac felis donec et odio pellentesque. Fringilla phasellus faucibus scelerisque eleifend donec pretium vulputate. Rhoncus est pellentesque elit ullamcorper dignissim cras tincidunt lobortis. Phasellus vestibulum lorem sed risus ultricies tristique nulla. Dictum varius duis at consectetur lorem. Pharetra vel turpis nunc eget. Aliquam sem fringilla ut morbi tincidunt. Pulvinar etiam non quam lacus suspendisse faucibus interdum posuere. Mattis aliquam faucibus purus in massa tempor nec. Sit amet venenatis urna cursus eget nunc scelerisque viverra mauris. Ullamcorper velit sed ullamcorper morbi. Accumsan lacus vel facilisis volutpat est velit. Massa massa ultricies mi quis hendrerit dolor magna eget. Sit amet volutpat consequat mauris. Nulla facilisi cras fermentum odio eu feugiat pretium nibh. Fermentum leo vel orci porta non pulvinar neque laoreet. Eget egestas purus viverra accumsan in nisl nisi scelerisque. Semper risus in hendrerit gravida rutrum quisque non tellus. Laoreet suspendisse interdum consectetur libero id faucibus nisl tincidunt eget. Egestas erat imperdiet sed euismod. Nunc scelerisque viverra mauris in aliquam sem fringilla. Vehicula ipsum a arcu cursus vitae congue. Semper risus in hendrerit gravida rutrum quisque non tellus. Posuere lorem ipsum dolor sit. Purus gravida quis blandit turpis cursus in hac habitasse platea. Maecenas ultricies mi eget mauris pharetra et ultrices. Hendrerit gravida rutrum quisque non."})})},b=function(){return Object(m.jsx)(j,{})},p=n(21),h=n.n(p),x=function(){return Object(m.jsx)("div",{className:h.a.banner,children:Object(m.jsxs)("div",{className:h.a.container,children:[Object(m.jsx)("h1",{children:"Flash Sale Today"}),Object(m.jsx)("p",{children:"Free gift with purchase"}),Object(m.jsx)(s.b,{to:"/shopping-cart/products",children:"Shop Now!"})]})})},O=function(){return Object(m.jsx)(x,{})},v=n(23),f=n.n(v),_=n(31),g=a.a.createContext({items:[],totalAmount:0,addItem:function(t){},removeItem:function(t){},clearItems:function(){}}),C=n(32),N=n.n(C),I=function(t){return Object(m.jsx)("div",{className:N.a.card,children:t.children})},q=n(17),B=n.n(q),A=function(t){var e=Object(i.useContext)(g),n=Object(i.useRef)();return Object(m.jsxs)(I,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:t.image,alt:"item product display"}),Object(m.jsxs)("h4",{children:["S$ ",t.price]}),Object(m.jsx)("h3",{children:t.title})]}),Object(m.jsxs)("form",{className:B.a.form,onSubmit:function(i){i.preventDefault();var a=n.current.value;e.addItem({id:t.id,title:t.title,price:t.price,amount:+a,image:t.image})},children:[Object(m.jsx)("input",{className:B.a.input,ref:n,label:"Amount",id:"amount",type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}),Object(m.jsx)("button",{className:B.a.btn,children:"Add to Cart"})]})]})},k=n(33),y=n.n(k),M=function(){return Object(m.jsx)("div",{className:y.a.spinner})},S=n(24),P=n.n(S),F=function(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],r=Object(i.useState)(!0),s=Object(o.a)(r,2),u=s[0],l=s[1];Object(i.useEffect)((function(){var t=function(){var t=Object(_.a)(f.a.mark((function t(){var e,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,fetch("https://fakestoreapi.com/products");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something went wrong");case 6:return t.next=8,e.json();case 8:n=t.sent,i=[],n.forEach((function(t){i.push({id:t.id,title:t.title,category:t.cateogory,description:t.description,price:t.price,image:t.image,rating:t.rating.rate})})),c(i),l(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(t){l(!1),console.log(t.message)}))}),[]);var d=n.map((function(t){return Object(m.jsx)(A,{id:t.id,title:t.title,category:t.category,description:t.description,price:t.price,image:t.image,rating:t.rating},t.id)}));return Object(m.jsxs)(a.a.Fragment,{children:[u&&Object(m.jsx)(M,{}),!u&&Object(m.jsx)("div",{className:P.a.productContainer,children:Object(m.jsx)("div",{className:P.a.productGrid,children:d})})]})},w=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(F,{})})},E=function(){return Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)("h1",{children:"Page not found!"})})},R=n(26),V=n(15),D={items:[],totalAmount:0},G=function(t,e){if("ADD"===e.type){var n,i=+(t.totalAmount+e.item.price*e.item.amount).toFixed(2),a=t.items.findIndex((function(t){return t.id===e.item.id})),c=t.items[a];if(c){console.log(c.amount);var r=Object(V.a)(Object(V.a)({},c),{},{amount:c.amount+e.item.amount});(n=Object(R.a)(t.items))[a]=r}else n=t.items.concat(e.item);return{items:n,totalAmount:i}}if("REMOVE"===e.type){var s=t.items.find((function(t){return t.id===e.id})),o=t.items.findIndex((function(t){return t.id===e.id})),u=+(t.totalAmount-s.price).toFixed(2),l=Object(R.a)(t.items);if(1!==s.amount){var d=Object(V.a)(Object(V.a)({},s),{},{amount:s.amount-1});l[o]=d}else l=t.items.filter((function(t){return t.id!==e.id}));return{items:l,totalAmount:u}}return e.type,D},T=function(t){var e=Object(i.useReducer)(G,D),n=Object(o.a)(e,2),a=n[0],c=n[1],r={items:a.items,totalAmount:a.totalAmount,addItem:function(t){c({type:"ADD",item:t})},removeItem:function(t){c({type:"REMOVE",id:t})},clearItems:function(){c({type:"CLEAR"})}};return Object(m.jsx)(g.Provider,{value:r,children:t.children})},H=n(12),L=n.n(H),J=function(t){var e=(t.amount*t.price).toFixed(2),n=t.price.toFixed(2),i="".concat(L.a.item," ").concat(t.lastItem?L.a.lastItem:"");return Object(m.jsxs)("li",{className:i,children:[Object(m.jsx)("img",{src:t.image,alt:"item product display"}),Object(m.jsx)("div",{className:L.a.itemContent,children:Object(m.jsx)("h3",{children:t.title})}),Object(m.jsxs)("div",{className:L.a.itemContentAction,children:[Object(m.jsxs)("p",{children:["S$",n]}),Object(m.jsxs)("h4",{children:["S$",e]}),Object(m.jsxs)("div",{className:L.a.buttons,children:[Object(m.jsx)("button",{onClick:function(){t.onRemove(t.id)},children:"-"}),Object(m.jsx)("p",{children:t.amount}),Object(m.jsx)("button",{onClick:function(){t.onAdd({id:t.id,title:t.title,price:t.price,amount:1,image:t.image})},children:"+"})]})]})]})},Q=n(10),U=n.n(Q),Y=function(t){var e,n=Object(i.useContext)(g),c=n.totalAmount.toFixed(2);return e=n.items.length?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:U.a.modalContent,children:t.children}),Object(m.jsxs)("div",{className:U.a.modalBtn,children:[Object(m.jsx)("button",{className:U.a.emptyCartBtn,onClick:t.clearCart,children:"Empty Cart"}),Object(m.jsxs)("h2",{children:["Total: $",c]}),Object(m.jsx)("button",{children:"Checkout"})]})]}):Object(m.jsx)("h2",{children:"You have no items in your cart."}),Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{className:U.a.modalBackdrop,onClick:t.closeCart}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:U.a.modal,children:[Object(m.jsx)("h2",{children:"Your Cart"}),Object(m.jsx)("button",{onClick:t.closeCart,className:U.a.closeModalBtn,children:"X"}),e]})})]})},$=function(t){var e=Object(i.useContext)(g),n=function(t){e.addItem(t)},a=function(t){e.removeItem(t)},c=Object(m.jsx)("ul",{children:e.items.map((function(t){return Object(m.jsx)(J,{id:t.id,title:t.title,price:t.price,amount:t.amount,image:t.image,onAdd:n,onRemove:a,lastItem:e.items.at(-1)===t||void 0},t.id)}))});return Object(m.jsx)("div",{children:Object(m.jsx)(Y,{closeCart:t.closeCart,clearCart:function(){e.clearItems()},children:c})})},X=n(25),z=n.n(X),K=function(t){var e=Object(i.useContext)(g).items.reduce((function(t,e){return t+e.amount}),0);return Object(m.jsx)("button",{className:z.a.button,onClick:t.onClick,children:Object(m.jsx)("span",{className:z.a.badge,children:e})})},Z=n(11),W=n.n(Z),tt=function(t){return Object(m.jsxs)("header",{className:W.a.header,children:[Object(m.jsx)("div",{className:W.a.logo,children:"Shopping Cart"}),Object(m.jsx)("nav",{className:W.a.nav,children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(s.c,{to:"/shopping-cart",exact:!0,activeClassName:W.a.active,children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.c,{to:"/shopping-cart/products",activeClassName:W.a.active,children:"Products"})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.c,{to:"/shopping-cart/about",activeClassName:W.a.active,children:"About"})}),Object(m.jsx)("li",{children:Object(m.jsx)(K,{onClick:t.showCart})})]})})]})};var et=function(){var t=Object(i.useState)(!1),e=Object(o.a)(t,2),n=e[0],a=e[1];return Object(m.jsxs)(T,{children:[Object(m.jsx)(tt,{showCart:function(){a(!0)}}),n&&Object(m.jsx)($,{closeCart:function(){a(!1)}}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{path:"/",exact:!0,children:Object(m.jsx)(u.a,{to:"/shopping-cart"})}),Object(m.jsx)(u.b,{path:"/react-shopping-cart",exact:!0,children:Object(m.jsx)(u.a,{to:"/shopping-cart"})}),Object(m.jsx)(u.b,{path:"/shopping-cart",exact:!0,children:Object(m.jsx)(O,{})}),Object(m.jsx)(u.b,{path:"/shopping-cart/products",children:Object(m.jsx)(w,{})}),Object(m.jsx)(u.b,{path:"/shopping-cart/about",children:Object(m.jsx)(b,{})}),Object(m.jsx)(u.b,{path:"*",children:Object(m.jsx)(E,{})})]})]})};r.a.render(Object(m.jsx)(s.a,{children:Object(m.jsx)(et,{})}),document.getElementById("root"))}],[[46,1,2]]]);
//# sourceMappingURL=main.f2bd304a.chunk.js.map